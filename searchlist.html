<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
		<title>Order your sandwich online and beat the queues - Sandwich Sorted</title>

		<!-- Bootstrap -->
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/bootstrap-theme.min.css" rel="stylesheet">
		<link href="css/bootstrap-social.css" rel="stylesheet">
		<link href="css/font-awesome.min.css" rel="stylesheet">
		<link href="css/site.css" rel="stylesheet">

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="container-fluid">
				<div class="navbar-header hidden-sm hidden-xs">
					<a class="navbar-brand" href="index.html">
						<img src="images/logo_horiz.png" class="brand-logo" alt="Sandwich Sorted">
					</a>
				</div>

				<div class="navbar-header visible-sm visible-xs">
					<div>
						<a class="btn-back" href="index.html"><i class="fa fa-arrow-left fa-3"></i></a>
        				<div class="navbar-shopname">CM14 5LF</div>
					</div>
				</div>

				<div class="navbar-collapse collapse" id="navbar" aria-expanded="false">
					<ul class="nav navbar-nav navbar-right hidden-sm hidden-xs">
						<li>
							<a href="login.html" id="lnkLogin">Login</a>
						</li>
						<li>
							<a href="#" onclick="openRightNav()">Menu <i class="fa fa-bars"></i></a>
						</li>
					</ul>
					<form class="navbar-form navbar-right hidden-sm hidden-xs">
						<div class="input-group">
							<span class="input-group-addon">
								<span class="glyphicon glyphicon-search glyphicon-search-gray"></span> 
							</span>
							<input type="text" class="form-control navbar-control-search" name="postcode" placeholder="CM145LF">
						</div>
					</form>
				</div>
			</div>
		</nav>

		<div id="navbar-home" class="navbar-main">
			<a href="#" class="closebtn" onclick="closeRightNav()">&times;</a>
			<a href="searchlist"><i class="fa fa-search" aria-hidden="true"></i> Search cafes</a>
			<a href="#"><i class="fa fa-bars" aria-hidden="true"></i> My Orders</a>
			<a href="settings.html"><i class="fa fa-cog" aria-hidden="true"></i> Settings</a>
			<a href="account.html"><i class="fa fa-user" aria-hidden="true"></i> My Account</a>
			<a href="#">And Another link</a>
			<hr style="width: 80%">
			<a href="login.html"><i class="fa fa-user" aria-hidden="true"></i> Login</a>
		</div>

		<div class="container-fluid">
			<div class="row">
				<div class="col-md-3 navbar-shoplist" id="navbar-shoplist">
					<div class="navbar-shoplist-heading">
						24 RESTAURANTS FOUND
					</div>
					<ul class="list-group">
						<li class="list-group-item shop-list">
							<div class="media-left">
								<a href="restaurantinfo.html">
									<img src="images/rsz_sw1.png" class="media-object img-rounded" alt="Sample Image">
								</a>
								<div class="image-caption-shop">
									<a href="javascript:searchAddress('CM14 4SR');">
										<span class="glyphicon glyphicon-map-marker"></span>
										<small>0.5min</small>
									</a>
								</div>
							</div>
							<div class="media-body">
								<ul class="list-unstyled">
									<li><h4 class="media-heading">Lawson Cafe</h4></li>
									<li class="shop-collection">Collection 20 mins</li>
									<li>Cafe . Staples Street</li>
									<li>Open 08:30 - 17:30</li>
								</ul>
							</div>
						</li>
						<li class="list-group-item shop-list">
							<div class="media-left">
								<a href="restaurantinfo.html">
									<img src="images/rsz_sw2.png" class="media-object img-rounded" alt="Sample Image">
								</a>
								<div class="image-caption-shop">
									<a href="javascript:searchAddress('CM14 5LF');">
										<span class="glyphicon glyphicon-map-marker"></span>
										<small>0.8min</small>
									</a>
								</div>
							</div>
							<div class="media-body">
								<ul class="list-unstyled">
									<li><h4 class="media-heading">LA Cafe</h4></li>
									<li class="shop-collection">Collection 45 mins</li>
									<li>Coffee Shop . Chindits Lane</li>
									<li>Open 08:30 - 17:30</li>
								</ul>
							</div>
						</li>
						<li class="list-group-item shop-list">
							<div class="media-left">
								<a href="restaurantinfo.html">
									<img src="images/rsz_sw3.png" class="media-object img-rounded" alt="Sample Image">
								</a>
								<div class="image-caption-shop">
									<a href="javascript:searchAddress('CM14 4RX');">
										<span class="glyphicon glyphicon-map-marker"></span>
										<small>0.5min</small>
									</a>
								</div>
							</div>
							<div class="media-body">
								<ul class="list-unstyled">
									<li><h4 class="media-heading">Frangos Coffee Shop</h4></li>
									<li class="shop-collection">Collection 40 mins</li>
									<li>Coffee Shop . Chindits Lane</li>
									<li>Open 08:30 - 17:30</li>
								</ul>
							</div>
						</li>
						<li class="list-group-item shop-list">
							<div class="media-left">
								<a href="restaurantinfo.html">
									<img src="images/rsz_sw4.png" class="media-object img-rounded" alt="Sample Image">
								</a>
								<div class="image-caption-shop">
									<a href="javascript:searchAddress('CM22 7AS');">
										<span class="glyphicon glyphicon-map-marker"></span>
										<small>0.5min</small>
									</a>
								</div>
							</div>
							<div class="media-body">
								<ul class="list-unstyled">
									<li><h4 class="media-heading">Cortado</h4></li>
									<li class="shop-collection">Collection 20 mins</li>
									<li>Coffee Shop . Chindits Lane</li>
									<li>Open 08:30 - 17:30</li>
								</ul>
							</div>
						</li>
						<li class="list-group-item shop-list">
							<div class="media-left">
								<a href="restaurantinfo.html">
									<img src="images/rsz_sw5.png" class="media-object img-rounded" alt="Sample Image">
								</a>
								<div class="image-caption-shop">
									<a href="javascript:searchAddress('CM14 4SR');">
										<span class="glyphicon glyphicon-map-marker"></span>
										<small>0.5min</small>
									</a>
								</div>
							</div>
							<div class="media-body">
								<ul class="list-unstyled">
									<li><h4 class="media-heading">LA Cafe</h4></li>
									<li class="shop-collection">Collection 45 mins</li>
									<li>Coffee Shop . Chindits Lane</li>
									<li>Open 08:30 - 17:30</li>
								</ul>
							</div>
						</li>
						<li class="list-group-item shop-list">
							<div class="media-left">
								<a href="restaurantinfo.html">
									<img src="images/rsz_sw6.png" class="media-object img-rounded" alt="Sample Image">
								</a>
								<div class="image-caption-shop">
									<a href="javascript:searchAddress('CM2 0DG');">
										<span class="glyphicon glyphicon-map-marker"></span>
										<small>0.5min</small>
									</a>
								</div>
							</div>
							<div class="media-body">
								<ul class="list-unstyled">
									<li><h4 class="media-heading">Frangos Coffee Shop</h4></li>
									<li class="shop-collection">Collection 40 mins</li>
									<li>Coffee Shop . Chindits Lane</li>
									<li>Open 08:30 - 17:30</li>
								</ul>
							</div>
						</li>
						<li class="list-group-item shop-list">
							<div class="media-left">
								<a href="restaurantinfo.html">
									<img src="images/rsz_sw1.png" class="media-object img-rounded" alt="Sample Image">
								</a>
								<div class="image-caption-shop">
									<a href="javascript:searchAddress('CM14 5LF');">
										<span class="glyphicon glyphicon-map-marker"></span>
										<small>0.5min</small>
									</a>
								</div>
							</div>
							<div class="media-body">
								<ul class="list-unstyled">
									<li><h4 class="media-heading">Lawson Cafe</h4></li>
									<li class="shop-collection">Collection 20 mins</li>
									<li>Cafe . Staples Street</li>
									<li>Open 08:30 - 17:30</li>
								</ul>
							</div>
						</li>
					</ul>
				</div>
				<div class="col-md-9 main-map hidden-sm hidden-xs" id="mapContent">
					<div id="map-shop" class="nopadding-right-left">
							
					</div>
					<div class="btn-toggle-shoplist" onclick="openShopNav()">
						<span class="glyphicon glyphicon-triangle-left"></span>
					</div>
				</div>
			</div>
		</div>

		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="js/jquery-3.1.1.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="js/bootstrap.min.js"></script>

		<script type="text/javascript">

			var navbarLeftWidth;
			var mapContentWidth;
			var map;

			$(document).ready(function() {

				// Initial for mapContent height
				function setboxHeight() {
					var nbShoplstHeight = $("#navbar-shoplist").height();
					$("#map-shop").height(nbShoplstHeight);
				}

				setboxHeight();

				$(window).resize(function() {
					setboxHeight();
				});

				// Store the width of left navbar and mapContent
				navbarLeftWidth = $("#navbar-shoplist").width();
				mapContentWidth = $("#mapContent").width();

				console.log("Initial of Left Navbar: " + navbarLeftWidth);
				console.log("Initial of Map Content: " + mapContentWidth);

			});


			function swsMap() {
				var shopLocation = new google.maps.LatLng(51.5073509, -0.12775829999998223);
				var mapCanvas = document.getElementById("map-shop");

				var mapProperties = {
					center: shopLocation,
					zoom: 16,
					panControl: false,
					mapTypeControl: false,
					mapTypeId: google.maps.MapTypeId.ROADMAP
				}

				map = new google.maps.Map(mapCanvas, mapProperties);

				// Set the post code of the first shop in list
				searchAddress("CM14 5LF");

			}

			function searchAddress(shopPostcode) {

				var geocoder = new google.maps.Geocoder();
				geocoder.geocode({'address': shopPostcode}, function(results, status) {

					if (status == google.maps.GeocoderStatus.OK) {

						// resultsMap.setCenter(results[0].geometry.location);
						var latitude = results[0].geometry.location.lat();

             			var longitude = results[0].geometry.location.lng();

             			shopLocation = new google.maps.LatLng(latitude, longitude);

             			map.setCenter(shopLocation);

						var marker = new google.maps.Marker({
              				map: map,
              				position: results[0].geometry.location
            			});

					} else {

						alert('Geocode was not successful for the following reason: ' + status);
					}
				});
			}

			// google.maps.event.addDomListener(window, 'load', swsMap);

		</script>



		<script src="js/sws.js"></script>

		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDab38v1LEO7Kn6Cc7oUgdGdvqooLHP9rg&callback=swsMap"></script>

	</body>
</html>